// This is the schema for Prisma ORM

model User {
  id         Int       @id @default(autoincrement())
  name       String?
  email      String    @unique
  password   String
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
}

model InvestmentPlan {
  id          Int      @id @default(autoincrement())
  name        String   @unique
  description String?
  interestRate Float
  duration     Int    // in days
}

model Investment {
  id               Int      @id @default(autoincrement())
  userId           Int
  investmentPlanId Int
  amount            Float
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt
  user             User      @relation(fields: [userId], references: [id])
  investmentPlan   InvestmentPlan @relation(fields: [investmentPlanId], references: [id])
}

model Withdrawal {
  id            Int      @id @default(autoincrement())
  userId       Int
  amount        Float
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  user          User     @relation(fields: [userId], references: [id])
}

model Deposit {
  id            Int      @id @default(autoincrement())
  userId       Int
  amount        Float
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  user          User     @relation(fields: [userId], references: [id])
}

model Referral {
  id            Int     @id @default(autoincrement())
  userId       Int
  referredUserId Int
  createdAt     DateTime  @default(now())
  user          User     @relation(fields: [userId], references: [id])
  referredUser   User     @relation(fields: [referredUserId], references: [id])
}

model Transaction {
  id            Int      @id @default(autoincrement())
  userId       Int
  amount        Float
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  user          User     @relation(fields: [userId], references: [id])
}

model PlatformSettings {
  id          Int     @id @default(autoincrement())
  key         String  @unique
  value       String
}
